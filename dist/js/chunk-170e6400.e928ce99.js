(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-170e6400"],{"097e":function(t,e,a){"use strict";var n=a("4a99"),l=a.n(n);l.a},"4a99":function(t,e,a){},"4ad6":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-Member-list"},[a("header",[a("div"),a("el-button",{attrs:{type:"primary",size:"medium"}},[a("a",{staticStyle:{color:"#fff"},attrs:{href:t.reportLink}},[t._v("生成报表")])])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.data}},[a("el-table-column",{attrs:{type:"index","label-class-name":"index-col","class-name":"index-col",label:"序号",width:"70"}}),a("el-table-column",{attrs:{prop:"username","min-width":"200",label:"姓名"}}),a("el-table-column",{attrs:{prop:"week_time",label:"本周学习时长"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(t.format(e.row.week_time))+"\n            ")]}}])}),a("el-table-column",{attrs:{prop:"practice_week_num",label:"本周练习次数"}}),a("el-table-column",{attrs:{prop:"total_time",label:"累计学习时长"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(t.format(e.row.total_time))+"\n            ")]}}])}),a("el-table-column",{attrs:{prop:"practice_total_num",label:"累计练习次数"}}),a("el-table-column",{attrs:{label:"操作","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.gotoEdit(e.row)}}},[t._v("查看")])]}}])})],1),a("page-pagination",{attrs:{total:t.total},on:{currentChange:t.handleCurrentChange}}),a("el-dialog",{attrs:{title:"学习记录",width:"700px",visible:t.showDialog},on:{"update:visible":function(e){t.showDialog=e}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingDetail,expression:"loadingDetail"}],staticClass:"hadBorder",attrs:{data:t.dataRecord,height:"500px"}},[a("el-table-column",{attrs:{type:"index","label-class-name":"index-col","class-name":"index-col",label:"序号",width:"70"}}),a("el-table-column",{attrs:{prop:"category",label:"课程分类"}}),a("el-table-column",{attrs:{prop:"course_name",label:"课程名称"}}),a("el-table-column",{attrs:{width:"150",label:"共计学习时长"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(t.format(e.row.learning_time))+"\n                ")]}}])})],1),a("page-pagination",{attrs:{pageSize:20,total:t.totalRecord},on:{currentChange:t.handleCurrentChangeRecord}})],1)],1)},l=[],o=a("a9bf"),i=a("c9c8"),r=a("52f9"),c=Object(r["a"])();function s(t){return o["a"].get(Object(i["a"])("/user"),{params:t})}var u=Object(i["a"])("".concat(c,"/user/export"));function d(t,e){return o["a"].get(Object(i["a"])("/user/detail/".concat(t)),{params:e})}var p={data:function(){return{data:[],loading:!1,total:0,showDialog:!1,id:"",loadingDetail:!1,totalRecord:0,dataRecord:[],reportLink:u,page:1,pageRecord:1}},components:{},methods:{format:function(t){var e=parseInt(t,10),a=parseInt(e/60,10),n=e%60;if(a>=60){var l=a%60,o=parseInt(a/60,10);return"".concat(o,"时").concat(l,"分").concat(n,"秒")}return"".concat(a,"分").concat(n,"秒")},createReport:function(){},handleCurrentChange:function(t){this.page=t,this.fetchData(t)},handleCurrentChangeRecord:function(t){this.pageRecord=t,this.fetchDetail(t)},fetchData:function(t){var e=this;this.loading||(this.loading=!0,s({page:t||this.page||1}).then(function(t){e.data=t.list,e.total=t.sum}).catch(function(t){e.$message.error(t.message)}).finally(function(){e.loading=!1}))},gotoEdit:function(t){this.showDialog=!0,this.id=t.username,this.fetchDetail()},fetchDetail:function(t){var e=this;this.loadingDetail||(this.loadingDetail=!0,d(this.id,{page:t||this.pageRecord||1}).then(function(t){e.dataRecord=t.list,e.totalRecord=t.sum}).catch(function(t){e.$message.error(t.message)}).finally(function(){e.loadingDetail=!1}))}},created:function(){this.fetchData()}},f=p,h=(a("097e"),a("2877")),g=Object(h["a"])(f,n,l,!1,null,"da81daee",null);e["default"]=g.exports}}]);
//# sourceMappingURL=chunk-170e6400.e928ce99.js.map