{"version":3,"sources":["webpack:///./src/pages/practice/list.vue?3dff","webpack:///./src/api/common.js","webpack:///./src/pages/practice/list.vue?4259","webpack:///./src/api/practice.js","webpack:///src/pages/practice/list.vue","webpack:///./src/pages/practice/list.vue?e87e","webpack:///./src/pages/practice/list.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_list_vue_vue_type_style_index_0_id_1aafa260_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_list_vue_vue_type_style_index_0_id_1aafa260_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","d","__webpack_exports__","uploadImg","getAllLesson","src_utils_xhttp__WEBPACK_IMPORTED_MODULE_0__","src_utils_httpQuery__WEBPACK_IMPORTED_MODULE_1__","src_const_baseURL__WEBPACK_IMPORTED_MODULE_2__","baseURL","getBaseURL","extendUrl","concat","xhttp","get","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","type","icon","size","on","click","gotoAdd","_v","directives","name","rawName","value","expression","data","label-class-name","class-name","label","width","prop","min-width","scopedSlots","_u","key","fn","scope","$event","gotoEdit","row","deletePractice","total","currentChange","handleCurrentChange","title","id","visible","showDialog","close","resetForm","update:visible","ref","model","form","rules","label-position","label-width","disabled","placeholder","callback","$$v","$set","_l","option","autosize","minRows","maxRows","maxlength","trim","replyList","height","deleteReply","totalReply","handleCurrentChangeReply","_e","save","staticRenderFns","getPracticeList","params","getPracticeDetail","lessonID","delPractice","courseID","delete","addPractice","post","course_id","getReplyList","delReply","practiceId","replyId","listvue_type_script_lang_js_","action","common","loading","imgData","media_type","publisher","topic","message","required","trigger","options","categoryId","categoryName","loadingDetail","loadingPracticeList","btnloading","pageReply","page","components","methods","refreshData","fetchData","$refs","resetFields","val","fetchReplys","_this","$confirm","confirmButtonText","cancelButtonText","then","$message","success","length","prePage","catch","e","error","_this2","res","finally","item","_this3","fetchDetail","_this4","validate","valid","_this5","_this6","Object","objectSpread","clearValidate","reset","created","_this7","practice_listvue_type_script_lang_js_","component","componentNormalizer"],"mappings":"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","file":"js/chunk-14f88987.920670d8.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&id=1aafa260&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&id=1aafa260&lang=less&scoped=true&\"","import xhttp from 'src/utils/xhttp'\nimport { extendUrl } from 'src/utils/httpQuery'\nimport getBaseURL from 'src/const/baseURL'\n\nconst baseURL = getBaseURL()\n\nexport const uploadImg = extendUrl(`${baseURL}/college/upload`)\n\nexport function uploadFile(params) {\n    return xhttp.post(extendUrl('/college/upload'), params)\n}\n\n// 获取所有的课程\nexport function getAllLesson() {\n    return xhttp.get(extendUrl('/lesson/all'))\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-Practice-list\"},[_c('header',[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\",\"size\":\"medium\"},on:{\"click\":_vm.gotoAdd}},[_vm._v(\"新增\")])],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"data\":_vm.data}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label-class-name\":\"index-col\",\"class-name\":\"index-col\",\"label\":\"序号\",\"width\":\"70\"}}),_c('el-table-column',{attrs:{\"prop\":\"course_name\",\"min-width\":\"200\",\"label\":\"所属课程\"}}),_c('el-table-column',{attrs:{\"prop\":\"category_name\",\"label\":\"所属分类\"}}),_c('el-table-column',{attrs:{\"prop\":\"publisher\",\"label\":\"发起人\"}}),_c('el-table-column',{attrs:{\"prop\":\"topic\",\"label\":\"练习主题\"}}),_c('el-table-column',{attrs:{\"prop\":\"practice_num\",\"label\":\"练习回复数\"}}),_c('el-table-column',{attrs:{\"prop\":\"lastest_practice_reply\",\"label\":\"最新练习回复\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"min-width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.gotoEdit(scope.row)}}},[_vm._v(\"查看\")]),_c('el-button',{staticClass:\"delete\",attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.deletePractice(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('page-pagination',{attrs:{\"total\":_vm.total},on:{\"currentChange\":_vm.handleCurrentChange}}),_c('el-dialog',{attrs:{\"title\":!_vm.id ? '新建练习' : '练习详情',\"width\":\"700px\",\"visible\":_vm.showDialog},on:{\"close\":_vm.resetForm,\"update:visible\":function($event){_vm.showDialog=$event}}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loadingDetail),expression:\"loadingDetail\"}],staticClass:\"Practice-form\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-position\":\"left\",\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"所属课程\",\"prop\":\"course_id\"}},[_c('el-select',{attrs:{\"disabled\":_vm.id ? true : false,\"placeholder\":\"请选择课程分类\"},model:{value:(_vm.form.course_id),callback:function ($$v) {_vm.$set(_vm.form, \"course_id\", $$v)},expression:\"form.course_id\"}},_vm._l((_vm.options),function(option){return _c('el-option',{key:option.id,attrs:{\"label\":option.name,\"value\":option.id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"练习主题\",\"prop\":\"topic\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入练习主题\",\"autosize\":{ minRows: 3, maxRows: 6 },\"maxlength\":500,\"disabled\":_vm.id ? true : false},model:{value:(_vm.form.topic),callback:function ($$v) {_vm.$set(_vm.form, \"topic\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.topic\"}})],1),_c('el-form-item',{attrs:{\"label\":\"发起人\",\"prop\":\"publisher\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入发起人\",\"disabled\":_vm.id ? true : false},model:{value:(_vm.form.publisher),callback:function ($$v) {_vm.$set(_vm.form, \"publisher\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.publisher\"}})],1),(_vm.id)?_c('div',{staticClass:\"reply-table\"},[_c('p',[_vm._v(\"练习回复列表\")]),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loadingPracticeList),expression:\"loadingPracticeList\"}],attrs:{\"data\":_vm.replyList,\"height\":\"300px\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label-class-name\":\"index-col\",\"class-name\":\"index-col\",\"label\":\"序号\",\"width\":\"70\"}}),_c('el-table-column',{attrs:{\"prop\":\"content\",\"width\":\"150\",\"label\":\"练习回复\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"min-width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticClass:\"delete\",attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.deleteReply(scope.row.id)}}},[_vm._v(\"删除\")])]}}],null,false,3455715908)})],1),_c('page-pagination',{attrs:{\"total\":_vm.totalReply},on:{\"currentChange\":_vm.handleCurrentChangeReply}})],1):_vm._e()],1),(!_vm.id)?_c('div',{staticClass:\"submit-btn\"},[_c('el-button',{attrs:{\"size\":\"medium\"},on:{\"click\":function($event){_vm.showDialog = false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\"},on:{\"click\":_vm.save}},[_vm._v(\"确定\")])],1):_vm._e()],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import xhttp from 'src/utils/xhttp'\nimport { extendUrl } from 'src/utils/httpQuery'\n\n// 获取练习列表\nexport function getPracticeList(params) {\n    return xhttp.get(extendUrl('/practice'), { params })\n}\n\n// 获取练习详情\nexport function getPracticeDetail(lessonID) {\n    return xhttp.get(extendUrl(`/practice/${lessonID}`))\n}\n\n// 删除练习\nexport function delPractice(courseID, lessonID) {\n    return xhttp.delete(extendUrl(`/practice/${courseID}/${lessonID}`))\n}\n\n// 增加练习\nexport function addPractice(params) {\n    return xhttp.post(extendUrl(`/practice/${params.course_id}`), params)\n}\n\n// 更新练习\nexport function updatePractice(lessonID, params) {\n    return xhttp.put(extendUrl(`/practice/${lessonID}`), params)\n}\n\n// 获取回复列表\nexport function getReplyList(id, params) {\n    return xhttp.get(extendUrl(`/practice/reply/${id}`), { params })\n}\n\n// 删除回复\nexport function delReply(practiceId, replyId) {\n    return xhttp.delete(extendUrl(`/practice/reply/${practiceId}/${replyId}`))\n}\n","<template>\n    <div class=\"page-Practice-list\">\n        <header>\n            <!-- <el-input placeholder=\"输入课程查找所有相关练习\"\n                suffix-icon=\"el-icon-search\"\n                @keyup.enter.native=\"searchData\"\n                size=\"medium\"\n                v-model.trim=\"key\">\n            </el-input> -->\n            <el-button\n                type=\"primary\"\n                @click=\"gotoAdd\"\n                icon=\"el-icon-plus\"\n                size=\"medium\"\n                >新增</el-button\n            >\n        </header>\n        <el-table :data=\"data\" v-loading=\"loading\">\n            <el-table-column\n                type=\"index\"\n                label-class-name=\"index-col\"\n                class-name=\"index-col\"\n                label=\"序号\"\n                width=\"70\"\n            >\n            </el-table-column>\n            <el-table-column\n                prop=\"course_name\"\n                min-width=\"200\"\n                label=\"所属课程\"\n            >\n            </el-table-column>\n            <el-table-column prop=\"category_name\" label=\"所属分类\">\n            </el-table-column>\n            <el-table-column prop=\"publisher\" label=\"发起人\"> </el-table-column>\n            <el-table-column prop=\"topic\" label=\"练习主题\"> </el-table-column>\n            <el-table-column prop=\"practice_num\" label=\"练习回复数\">\n            </el-table-column>\n            <el-table-column prop=\"lastest_practice_reply\" label=\"最新练习回复\">\n            </el-table-column>\n            <el-table-column label=\"操作\" min-width=\"150\">\n                <template slot-scope=\"scope\">\n                    <el-button type=\"text\" @click=\"gotoEdit(scope.row)\"\n                        >查看</el-button\n                    >\n                    <el-button\n                        type=\"text\"\n                        class=\"delete\"\n                        @click=\"deletePractice(scope.row)\"\n                        >删除</el-button\n                    >\n                </template>\n            </el-table-column>\n        </el-table>\n        <page-pagination\n            @currentChange=\"handleCurrentChange\"\n            :total=\"total\"\n        ></page-pagination>\n\n        <el-dialog\n            :title=\"!id ? '新建练习' : '练习详情'\"\n            width=\"700px\"\n            @close=\"resetForm\"\n            :visible.sync=\"showDialog\"\n        >\n            <div class=\"Practice-form\" v-loading=\"loadingDetail\">\n                <el-form\n                    :model=\"form\"\n                    :rules=\"rules\"\n                    label-position=\"left\"\n                    label-width=\"100px\"\n                    ref=\"form\"\n                >\n                    <el-form-item label=\"所属课程\" prop=\"course_id\">\n                        <el-select\n                            v-model=\"form.course_id\"\n                            :disabled=\"id ? true : false\"\n                            placeholder=\"请选择课程分类\"\n                        >\n                            <el-option\n                                :label=\"option.name\"\n                                v-for=\"option in options\"\n                                :key=\"option.id\"\n                                :value=\"option.id\"\n                            ></el-option>\n                        </el-select>\n                    </el-form-item>\n                    <el-form-item label=\"练习主题\" prop=\"topic\">\n                        <el-input\n                            type=\"textarea\"\n                            placeholder=\"请输入练习主题\"\n                            :autosize=\"{ minRows: 3, maxRows: 6 }\"\n                            :maxlength=\"500\"\n                            :disabled=\"id ? true : false\"\n                            v-model.trim=\"form.topic\"\n                        ></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"发起人\" prop=\"publisher\">\n                        <el-input\n                            placeholder=\"请输入发起人\"\n                            :disabled=\"id ? true : false\"\n                            v-model.trim=\"form.publisher\"\n                        ></el-input>\n                    </el-form-item>\n                    <div v-if=\"id\" class=\"reply-table\">\n                        <p>练习回复列表</p>\n                        <el-table\n                            :data=\"replyList\"\n                            v-loading=\"loadingPracticeList\"\n                            height=\"300px\"\n                        >\n                            <el-table-column\n                                type=\"index\"\n                                label-class-name=\"index-col\"\n                                class-name=\"index-col\"\n                                label=\"序号\"\n                                width=\"70\"\n                            >\n                            </el-table-column>\n                            <el-table-column\n                                prop=\"content\"\n                                width=\"150\"\n                                label=\"练习回复\"\n                            >\n                            </el-table-column>\n                            <el-table-column label=\"操作\" min-width=\"150\">\n                                <template slot-scope=\"scope\">\n                                    <el-button\n                                        type=\"text\"\n                                        class=\"delete\"\n                                        @click=\"deleteReply(scope.row.id)\"\n                                        >删除</el-button\n                                    >\n                                </template>\n                            </el-table-column>\n                        </el-table>\n                        <page-pagination\n                            @currentChange=\"handleCurrentChangeReply\"\n                            :total=\"totalReply\"\n                        ></page-pagination>\n                    </div>\n                </el-form>\n                <div class=\"submit-btn\" v-if=\"!id\">\n                    <el-button @click=\"showDialog = false\" size=\"medium\"\n                        >取消</el-button\n                    >\n                    <el-button @click=\"save\" type=\"primary\" size=\"medium\"\n                        >确定</el-button\n                    >\n                </div>\n            </div>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\nimport { uploadImg, getAllLesson } from 'src/api/common'\nimport {\n    getPracticeList,\n    delPractice,\n    getPracticeDetail,\n    addPractice,\n    getReplyList,\n    delReply\n} from 'src/api/practice'\n\nexport default {\n    data() {\n        return {\n            action: uploadImg,\n            data: [],\n            loading: false,\n            total: 0,\n            key: '',\n            showDialog: false,\n            imgData: { media_type: 1 },\n            id: '', // 当前编辑的id\n            form: {\n                publisher: '',\n                topic: '',\n                course_id: ''\n            },\n            rules: {\n                topic: {\n                    message: '练习主题不能为空',\n                    required: true,\n                    trigger: ['blur']\n                },\n                publisher: {\n                    message: '发起人不能为空',\n                    required: true,\n                    trigger: ['blur']\n                },\n                course_id: {\n                    message: '请至少选择一个课程',\n                    required: true,\n                    trigger: ['blur']\n                }\n            },\n            options: [\n                {\n                    categoryId: 1, // 分类id\n                    categoryName: '' // 分类名称\n                }\n            ],\n\n            loadingDetail: false,\n            loadingPracticeList: false,\n            btnloading: false,\n            totalReply: 0,\n            replyList: [],\n            pageReply: 1,\n            page: 1\n        }\n    },\n    components: {},\n    methods: {\n        refreshData() {\n            this.fetchData()\n            this.showDialog = false\n        },\n        resetForm() {\n            this.$refs.form.resetFields()\n        },\n        gotoAdd() {\n            this.showDialog = true\n            this.id = ''\n        },\n        handleCurrentChangeReply(val) {\n            this.pageReply = val\n            this.fetchReplys(val)\n        },\n        handleCurrentChange(val) {\n            this.page = val\n            this.fetchData(val)\n        },\n        deleteReply(id) {\n            this.$confirm('此操作将永久删除该练习回复, 是否继续?', '提示', {\n                confirmButtonText: '确定',\n                cancelButtonText: '取消',\n                type: 'warning'\n            })\n                .then(() => {\n                    delReply(this.id, id)\n                        .then(() => {\n                            this.$message.success('删除练习回复成功')\n                            if (this.replyList.length === 1) {\n                                const prePage = this.pageReply - 1\n                                this.pageReply = prePage >= 1 ? prePage : 1\n                            }\n                            this.fetchReplys()\n                        })\n                        .catch(e => {\n                            this.$message.error(e.message)\n                        })\n                })\n                .catch(() => {\n                    this.$message({\n                        type: 'info',\n                        message: '已取消删除'\n                    })\n                })\n        },\n        fetchData(page) {\n            if (this.loading) {\n                return\n            }\n            this.loading = true\n\n            getPracticeList({\n                page: page || this.page || 1\n            })\n                .then(res => {\n                    this.data = res.data || []\n                    this.total = res.total\n                })\n                .catch(e => {\n                    this.$message.error(e.message)\n                })\n                .finally(() => {\n                    this.loading = false\n                })\n        },\n\n        deletePractice(item) {\n            this.$confirm('此操作将永久删除该练习, 是否继续?', '提示', {\n                confirmButtonText: '确定',\n                cancelButtonText: '取消',\n                type: 'warning'\n            })\n                .then(() => {\n                    delPractice(item.course_id, item.id)\n                        .then(() => {\n                            this.$message.success('删除练习成功')\n                            if (this.data.length === 1) {\n                                const prePage = this.page - 1\n                                this.page = prePage >= 1 ? prePage : 1\n                            }\n                            this.fetchData()\n                        })\n                        .catch(e => {\n                            this.$message.error(e.message)\n                        })\n                })\n                .catch(() => {\n                    this.$message({\n                        type: 'info',\n                        message: '已取消删除'\n                    })\n                })\n        },\n        gotoEdit(item) {\n            this.showDialog = true\n            this.id = item.id\n            this.fetchDetail()\n        },\n        save() {\n            this.$refs.form.validate(valid => {\n                if (valid) {\n                    if (this.btnloading) {\n                        return\n                    }\n                    this.btnloading = true\n                    addPractice(this.form)\n                        .then(() => {\n                            this.$message.success('添加练习成功')\n                            this.fetchData()\n                            this.showDialog = false\n                        })\n                        .catch(e => {\n                            this.$message.error(e.message)\n                        })\n                        .finally(() => {\n                            this.btnloading = false\n                        })\n                }\n            })\n        },\n        fetchReplys(page) {\n            if (this.loadingPracticeList) {\n                return\n            }\n            this.loadingPracticeList = true\n\n            getReplyList(this.id, {\n                page: page || this.pageReply || 1\n            })\n                .then(res => {\n                    this.replyList = res.data || []\n                    this.totalReply = res.total\n                })\n                .catch(e => {\n                    this.$message.error(e.message)\n                })\n                .finally(() => {\n                    this.loadingPracticeList = false\n                })\n        },\n        fetchDetail() {\n            if (this.loadingDetail) {\n                return\n            }\n            this.loadingDetail = true\n\n            getPracticeDetail(this.id)\n                .then(res => {\n                    this.form = {\n                        ...res\n                    }\n                    this.$refs.form.clearValidate()\n                })\n                .catch(e => {\n                    this.$message.error(e.message)\n                })\n                .finally(() => {\n                    this.loadingDetail = false\n                })\n            this.fetchReplys()\n        },\n        reset() {\n            this.$refs.form && this.$refs.form.resetFields()\n        }\n    },\n    created() {\n        this.fetchData()\n        getAllLesson()\n            .then(res => {\n                this.options = res\n            })\n            .catch(e => {\n                this.$message.error(e.message)\n            })\n    }\n}\n</script>\n\n<style lang=\"less\" scoped>\n@import '~assets/less/var.less';\n.Practice-form {\n    .el-input,\n    .el-textarea,\n    .el-select {\n        width: 400px;\n    }\n}\n.submit-btn {\n    margin: 30px 0 10px;\n    text-align: right;\n    button {\n        min-width: 100px;\n    }\n}\n.reply-table {\n    .el-table {\n        border-left: 1px solid @border-color;\n        border-right: 1px solid @border-color;\n    }\n}\n.page-Practice-list {\n    height: 100%;\n    background-color: #fff;\n    header {\n        padding: 15px 20px;\n        text-align: right;\n        display: flex;\n        justify-content: space-between;\n        .el-input {\n            width: 300px;\n        }\n    }\n    .el-button.delete {\n        color: @color-red;\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=1aafa260&scoped=true&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&id=1aafa260&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1aafa260\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}